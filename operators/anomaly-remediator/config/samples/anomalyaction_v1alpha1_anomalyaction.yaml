apiVersion: aiops.prophet.io/v1alpha1
kind: AnomalyAction
metadata:
  name: sample-backend-anomaly
  namespace: default
spec:
  source: prometheus
  metric: container_memory_working_set_bytes
  threshold: "> 1Gi"
  remediation:
    type: restart
    podSelector:
      app: backend
    requireApproval: false
    cooldownSeconds: 300
  target:
    namespace: default
    labels:
      app: backend
    resourceType: Pod
  k8sGPT:
    enabled: true
    endpoint: http://k8sgpt-operator.k8sgpt.svc.cluster.local:8080
  webhookUrl: ""

